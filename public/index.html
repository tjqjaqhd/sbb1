<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo App - 할 일 관리</title>
    <meta name="description" content="간단하고 효율적인 할 일 관리 앱">
    <link rel="stylesheet" href="style.css">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>✓</text></svg>">

    <!-- Meta Tags for Better SEO -->
    <meta name="keywords" content="todo, task management, productivity, 할일">
    <meta name="author" content="Todo App">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <h1>✓ Todo App</h1>
            <p>효율적인 할 일 관리로 생산성을 높이세요</p>
        </header>

        <!-- Todo Input Form -->
        <section class="todo-form">
            <form class="todo-input-container" role="form" aria-label="새로운 할 일 추가">
                <label for="todo-input" class="sr-only">새로운 할 일</label>
                <input
                    type="text"
                    id="todo-input"
                    class="todo-input"
                    placeholder="새로운 할 일을 입력하세요..."
                    maxlength="200"
                    required
                    aria-describedby="input-help"
                >
                <button
                    type="submit"
                    class="add-btn"
                    aria-label="할 일 추가"
                >
                    <span>+</span>
                    <span class="btn-text">추가</span>
                </button>
            </form>
            <div id="input-help" class="sr-only">최대 200자까지 입력 가능합니다</div>
        </section>

        <!-- Filter Controls -->
        <nav class="filter-controls" role="tablist" aria-label="할 일 필터">
            <button
                class="filter-btn active"
                data-filter="all"
                role="tab"
                aria-selected="true"
                aria-controls="todo-list"
            >
                전체
            </button>
            <button
                class="filter-btn"
                data-filter="active"
                role="tab"
                aria-selected="false"
                aria-controls="todo-list"
            >
                진행중
            </button>
            <button
                class="filter-btn"
                data-filter="completed"
                role="tab"
                aria-selected="false"
                aria-controls="todo-list"
            >
                완료됨
            </button>
        </nav>

        <!-- Main Todo Content -->
        <main class="todo-main">
            <!-- Loading State (will be hidden by JavaScript) -->
            <div class="loading" id="loading-state" aria-hidden="true">
                <div class="spinner"></div>
                <span class="sr-only">할 일 목록을 불러오는 중...</span>
            </div>

            <!-- Todo List -->
            <ul class="todo-list" id="todo-list" role="list" aria-label="할 일 목록">
                <!-- Sample todos for styling purposes - will be replaced by JavaScript -->
                <li class="todo-item" role="listitem">
                    <input
                        type="checkbox"
                        class="todo-checkbox"
                        id="todo-1"
                        aria-label="할 일 완료 체크"
                    >
                    <label for="todo-1" class="todo-text">
                        React 프로젝트 구조 설계하기
                    </label>
                    <div class="todo-actions">
                        <button
                            class="todo-btn edit-btn"
                            aria-label="할 일 수정"
                            title="수정"
                        >
                            ✎
                        </button>
                        <button
                            class="todo-btn delete-btn"
                            aria-label="할 일 삭제"
                            title="삭제"
                        >
                            ×
                        </button>
                    </div>
                </li>

                <li class="todo-item completed" role="listitem">
                    <input
                        type="checkbox"
                        class="todo-checkbox"
                        id="todo-2"
                        checked
                        aria-label="할 일 완료 체크"
                    >
                    <label for="todo-2" class="todo-text">
                        백엔드 API 개발 완료
                    </label>
                    <div class="todo-actions">
                        <button
                            class="todo-btn edit-btn"
                            aria-label="할 일 수정"
                            title="수정"
                        >
                            ✎
                        </button>
                        <button
                            class="todo-btn delete-btn"
                            aria-label="할 일 삭제"
                            title="삭제"
                        >
                            ×
                        </button>
                    </div>
                </li>

                <li class="todo-item" role="listitem">
                    <input
                        type="checkbox"
                        class="todo-checkbox"
                        id="todo-3"
                        aria-label="할 일 완료 체크"
                    >
                    <label for="todo-3" class="todo-text">
                        반응형 디자인 구현
                    </label>
                    <div class="todo-actions">
                        <button
                            class="todo-btn edit-btn"
                            aria-label="할 일 수정"
                            title="수정"
                        >
                            ✎
                        </button>
                        <button
                            class="todo-btn delete-btn"
                            aria-label="할 일 삭제"
                            title="삭제"
                        >
                            ×
                        </button>
                    </div>
                </li>

                <li class="todo-item" role="listitem">
                    <input
                        type="checkbox"
                        class="todo-checkbox"
                        id="todo-4"
                        aria-label="할 일 완료 체크"
                    >
                    <label for="todo-4" class="todo-text">
                        사용자 인증 시스템 구축
                    </label>
                    <div class="todo-actions">
                        <button
                            class="todo-btn edit-btn"
                            aria-label="할 일 수정"
                            title="수정"
                        >
                            ✎
                        </button>
                        <button
                            class="todo-btn delete-btn"
                            aria-label="할 일 삭제"
                            title="삭제"
                        >
                            ×
                        </button>
                    </div>
                </li>
            </ul>

            <!-- Empty State (will be shown when no todos) -->
            <div class="empty-state" id="empty-state" style="display: none;" aria-hidden="true">
                <div class="empty-icon">📝</div>
                <h3>아직 할 일이 없습니다</h3>
                <p>새로운 할 일을 추가해보세요!</p>
            </div>

            <!-- Statistics Section -->
            <section class="todo-stats" aria-label="할 일 통계">
                <div class="stat-item">
                    <span class="stat-number" id="total-count">4</span>
                    <span class="stat-label">전체</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="active-count">3</span>
                    <span class="stat-label">진행중</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="completed-count">1</span>
                    <span class="stat-label">완료</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="completion-rate">25%</span>
                    <span class="stat-label">완료율</span>
                </div>
            </section>
        </main>
    </div>

    <!-- Screen Reader Only Styles -->
    <style>
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus indicator for better accessibility */
        .sr-only:focus {
            position: static;
            width: auto;
            height: auto;
            padding: inherit;
            margin: inherit;
            overflow: visible;
            clip: auto;
            white-space: normal;
        }
    </style>

    <script>
        // Basic functionality for demo purposes (will be enhanced with proper API integration)
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loading state initially
            const loadingState = document.getElementById('loading-state');
            if (loadingState) {
                loadingState.style.display = 'none';
            }

            // Filter button functionality
            const filterBtns = document.querySelectorAll('.filter-btn');
            const todoItems = document.querySelectorAll('.todo-item');

            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // Update active filter button
                    filterBtns.forEach(b => {
                        b.classList.remove('active');
                        b.setAttribute('aria-selected', 'false');
                    });
                    this.classList.add('active');
                    this.setAttribute('aria-selected', 'true');

                    const filter = this.getAttribute('data-filter');

                    // Filter todos
                    todoItems.forEach(item => {
                        const isCompleted = item.classList.contains('completed');

                        switch(filter) {
                            case 'all':
                                item.style.display = 'flex';
                                break;
                            case 'active':
                                item.style.display = isCompleted ? 'none' : 'flex';
                                break;
                            case 'completed':
                                item.style.display = isCompleted ? 'flex' : 'none';
                                break;
                        }
                    });
                });
            });

            // Checkbox toggle functionality
            const checkboxes = document.querySelectorAll('.todo-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const todoItem = this.closest('.todo-item');
                    if (this.checked) {
                        todoItem.classList.add('completed');
                    } else {
                        todoItem.classList.remove('completed');
                    }

                    // Update statistics
                    updateStats();
                });
            });

            // Update statistics function
            function updateStats() {
                const totalItems = document.querySelectorAll('.todo-item').length;
                const completedItems = document.querySelectorAll('.todo-item.completed').length;
                const activeItems = totalItems - completedItems;
                const completionRate = totalItems > 0 ? Math.round((completedItems / totalItems) * 100) : 0;

                document.getElementById('total-count').textContent = totalItems;
                document.getElementById('active-count').textContent = activeItems;
                document.getElementById('completed-count').textContent = completedItems;
                document.getElementById('completion-rate').textContent = completionRate + '%';
            }

            // Form submission (placeholder)
            const form = document.querySelector('.todo-input-container');
            const input = document.getElementById('todo-input');

            form.addEventListener('submit', function(e) {
                e.preventDefault();
                const text = input.value.trim();

                if (text) {
                    // This will be replaced with actual API call
                    console.log('새 할 일 추가:', text);
                    input.value = '';

                    // Show success feedback (temporary)
                    const btn = this.querySelector('.add-btn');
                    const originalText = btn.innerHTML;
                    btn.innerHTML = '<span>✓</span><span class="btn-text">추가됨</span>';
                    btn.style.background = 'var(--success-color)';

                    setTimeout(() => {
                        btn.innerHTML = originalText;
                        btn.style.background = '';
                    }, 1000);
                }
            });

            // Initialize statistics
            updateStats();
        });
    </script>
</body>
</html>